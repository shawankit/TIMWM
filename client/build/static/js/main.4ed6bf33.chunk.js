(this.webpackJsonpcli=this.webpackJsonpcli||[]).push([[0],{153:function(e,t,a){},194:function(e,t,a){},297:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(38),i=a.n(c),o=a(64),s=(a(153),a(4)),l=a(34),u=(a(154),a(194),a(300)),d=a(65),b=a(305),j=a(7),m=a(1),p=a(33),h=a(21),f=a.n(h),x=(a(155),a(302)),O=a(298),v=a(299),g=a(301),y=a(174),N=a.n(y),C=new(a(185).a),S=function(){return C.get("AUTH")},w="http://".concat(window.location.hostname,":8000"),I=N.a.create({baseURL:w}),k=function(){return{"content-type":"application/json","x-access-token":S().token}},E=function(e){return I.post("/auth/mobile/sendOTP",{mobileNumber:e})},T=function(e,t){return I.post("/auth/mobile/user",{mobileNumber:e,otp:t})},A=function(e,t,a,n){return I.get(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n="".concat(e);t&&Object.keys(t).forEach((function(e){return n=n.replace(":".concat(e),t[e])}));var r={};if(a){Object.keys(a).forEach((function(e){void 0!==a[e]&&null!==a[e]&&(r[e]=a[e])}));var c=new URLSearchParams(r);n+="?".concat(c.toString())}return n}("/invoices",{},{type:e,search:t,offset:a,limit:n}),{headers:k()})},D=function(e){return I.get("/invoices/".concat(e),{headers:k()})},R=[{label:"Company",name:"companyName",type:"input",inputType:"text"},{label:"Division",name:"division",type:"input",inputType:"text"},{label:"Customer Code",name:"customerCode",type:"input",inputType:"text"},{label:"Customer",name:"customerName",type:"input",inputType:"text"},{label:"Invoice No.",name:"invoiceNumber",type:"input",inputType:"text"},{label:"Invoice Date",name:"invoiceDate",type:"input",inputType:"text"},{label:"Taxable Amount",name:"taxableAmount",inputType:"text",list:"customerType"},{label:"Total Amount",name:"totalValue",inputType:"text",list:"customerType"}],M=a(83),B=a.n(M),V=a(5),F=x.a.Title,L=function(e){e.page;var t=["January","February","March","April","May","June","July","August","September","October","November","December"],a=Object(n.useState)(null),r=Object(s.a)(a,2),c=r[0],i=r[1],o=Object(n.useState)(null),l=Object(s.a)(o,2),u=l[0],d=l[1],b=function(){var e=Object(p.a)(f.a.mark((function e(){var a,n,r,c,o,s,l,u,b,j,p,h,x,O,v;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.get("/reports",{headers:k()});case 2:for(n=e.sent,console.log("response",n),r=null===(a=n.data)||void 0===a?void 0:a.entity,c=U(2023),o={},s={},l=0;l<r.length;l++)u=r[l],b="".concat(t[u.month-1].slice(0,3),"-").concat(u.year.toString().slice(-2)),o[u.division]||(o[u.division]={}),o[u.division][b]=u.taxable_amount,s[u.name]||(s[u.name]={}),s[u.name][b]||(s[u.name][b]=0),s[u.name][b]+=u.taxable_amount;for(h in j=[],p=function(e){var t=o[e],a={};c.forEach((function(e){a[e]=t[e]?t[e]:0})),j.push(Object(m.a)({division:e},a))},o)p(h);for(v in i(j),x=[],O=function(e){var t=s[e],a={};c.forEach((function(e){a[e]=t[e]?t[e]:0})),x.push(Object(m.a)({company:e},a))},s)O(v);d(x);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){b()}),[]);var h=U(2023).map((function(e){return{label:e,name:e,render:function(e,t){return Object(V.jsx)("div",{children:e.toLocaleString("en-IN")})}}})),y=function(e){return e.map((function(e){return{title:Object(V.jsx)(x.a.Text,{ellipsis:!0,title:e.label,children:e.label}),dataIndex:e.name,key:e.name,width:"150px",render:e.render}}))},N=function(e,t){return Object(V.jsx)("div",{children:e})},C=y([{label:"Division",name:"division",render:N}].concat(Object(j.a)(h))),S=y([{label:"Company",name:"company",render:N}].concat(Object(j.a)(h)));return Object(V.jsxs)("div",{children:[Object(V.jsxs)("div",{className:"site-layout-background p-5 mt-1",children:[Object(V.jsx)(F,{level:3,style:{color:"rgba(107, 114, 128, var(--tw-text-opacity))"},className:"border-b-2",children:"Reports By Division"}),Object(V.jsx)(O.a,{className:"w-full",children:Object(V.jsx)(v.a,{span:24,children:Object(V.jsx)(g.a,{dataSource:c,columns:C,bordered:!0,pagination:!1,rowKey:function(e){return e.id+((new Date).getTime()+1e4*Math.random())}})})})]}),Object(V.jsxs)("div",{className:"site-layout-background p-5 mt-1",children:[Object(V.jsx)(F,{level:3,style:{color:"rgba(107, 114, 128, var(--tw-text-opacity))"},className:"border-b-2",children:"Reports By Company"}),Object(V.jsx)(O.a,{className:"w-full",children:Object(V.jsx)(v.a,{span:24,children:Object(V.jsx)(g.a,{dataSource:u,columns:S,bordered:!0,pagination:!1,rowKey:function(e){return e.id+((new Date).getTime()+1e4*Math.random())}})})})]})]})},U=function(e){for(var t=["April","May","June","July","August","September","October","November","December","January","February","March"],a=[],n=new Date,r=n.getMonth(),c=n.getFullYear(),i=0;i<t.length;i++){var o=t[i],s=i<9?e-1:e;a.push("".concat(o.slice(0,3),"-").concat(s.toString().slice(-2)))}return c===e&&r<3&&(a=a.slice(0,12-(3-r))),c===e-1&&r>=3&&(a=a.slice(0,r-3)),a},P=function(){return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(b.a,{style:{margin:"16px 0"},className:"text-4xl font-bold",children:Object(V.jsx)(b.a.Item,{children:"Reports"})}),Object(V.jsx)(L,{})]})},H=a(45),q=a(307),G=a(308),W=a(309),z=a(310),Y=a(311),K=a(312),J=function(){var e=Object(n.useState)(!0),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(void 0),i=Object(s.a)(c,2),l=i[0],u=i[1];return Object(n.useEffect)((function(){var e=function(){return u(window.innerWidth)};return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),Object(n.useEffect)((function(){r(!(l<=800))}),[l]),Object(V.jsxs)("div",{className:"nav-container  h-screen",children:[Object(V.jsxs)("div",{className:"logo-container",children:[Object(V.jsx)(x.a.Title,{level:2,className:"logo",children:Object(V.jsx)(o.b,{to:"/",children:"TIMWM"})}),Object(V.jsx)(H.a,{className:"menu-control-container",onClick:function(){return r(!a)},children:Object(V.jsx)(q.a,{})})]}),a&&Object(V.jsxs)(d.a,{theme:"dark",children:[Object(V.jsx)(d.a.Item,{icon:Object(V.jsx)(G.a,{}),children:Object(V.jsx)(o.b,{to:"/",children:"Reports"})}),Object(V.jsx)(d.a.Item,{icon:Object(V.jsx)(W.a,{}),children:Object(V.jsx)(o.b,{to:"/sales",children:"Sales"})}),Object(V.jsx)(d.a.Item,{icon:Object(V.jsx)(z.a,{}),children:Object(V.jsx)(o.b,{to:"/purchases",children:"Purchases"})}),Object(V.jsx)(d.a.Item,{icon:Object(V.jsx)(Y.a,{}),children:Object(V.jsx)(o.b,{to:"/receipts",children:"Receipts"})}),Object(V.jsx)(d.a.Item,{icon:Object(V.jsx)(K.a,{}),children:Object(V.jsx)(o.b,{to:"/payments",children:"Payments"})})]})]})},Q=a(180),X=a(10),_=["children","type","className"],Z=function(e){var t=e.children,a=e.type,n=void 0===a?"h1":a,r=e.className,c=void 0===r?"":r,i=Object(X.a)(e,_),o={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6"},s=o[n]?o[n]:"h1";return Object(V.jsx)(s,Object(m.a)(Object(m.a)({className:"".concat(c)},i),{},{children:t}))},$=function(e){var t=e.className,a=void 0===t?"":t,n=e.children,r=e.whiteSpace,c=void 0===r?"normal":r,i=e.onClick;return Object(V.jsx)("p",{className:"".concat(a),style:{whiteSpace:c},onClick:i,children:n})},ee=a.p+"static/media/cryptocurrency.1548aced.png",te=a.p+"static/media/login-bg.a6a7c455.jpg",ae=function(e){var t=e.loginContentHeading,a=e.loginContentDesc;return Object(V.jsxs)("div",{className:"md:min-h-screen relative p-6 py-8 md:py-16 md:px-9 overflow-hidden bg-gradient-secondary md:bg-transparent",children:[Object(V.jsxs)("div",{className:"relative z-10 max-w-md",children:[Object(V.jsx)("img",{src:ee,width:"170",height:"34",alt:"logo"}),Object(V.jsx)(Z,{type:"h3",className:"text-2xl md:text-3xl md:mt-24 mt-5 mb-4 text-white",children:t}),Object(V.jsx)($,{className:"text-white",children:a})]}),Object(V.jsx)("div",{className:"hidden md:block min-h-screen absolute w-full h-full top-0 left-0 z-0 login-bg",children:Object(V.jsx)("img",{src:te,layout:"fixed",objectFit:"cover",width:"1024",height:"1024",alt:"login bg"})})]})},ne=function(e){var t=e.labelFor,a=void 0===t?"":t,n=e.variant,r=void 0===n?"medium":n,c=e.textColor,i=void 0===c?"text-gray-900":c,o=e.fontWeight,s=void 0===o?"font-bold":o,l=e.className,u=void 0===l?"block mb-2":l,d=e.children,b=e.labelDisable,j=void 0!==b&&b;return Object(V.jsx)("label",{htmlFor:"".concat(a),variant:{small:"small",medium:"medium",large:"large"}[r],className:"".concat({small:"text-sm",medium:"text-base font-bold",large:"text-lg"}[r]," ").concat(i," ").concat(s,"  ").concat(u," ").concat(j&&"opacity-60 pointer-events-none"),children:d})},re=function(e){var t=e.disabled,a=e.error,n=(e.isRequired,e.register,e.id),r=e.name,c=e.type,i=e.maxLength,o=void 0===i?256:i,s=e.placeholder,l=e.variant,u=void 0===l?"outlineBottom":l,d=e.bg,b=void 0===d?"bg-lightGrey":d,j=e.fontSize,m=void 0===j?"text-base":j,p=(e.borderColor,e.borderRadius),h=void 0===p?"rounded":p,f=e.className,x=void 0===f?"":f,O=(e.onClick,e.value,e.defaultValue),v=e.onChangeValue,g=void 0===v?function(){}:v,y=e.inputLength;e.getValues;return Object(V.jsxs)("div",{className:"w-full mb-6",children:[Object(V.jsx)("input",{id:n,type:c,name:r,placeholder:s,variant:{normal:"normal",outline:"outline",outlineBottom:"outlineBottom",error:"error"}[u],className:"".concat({normal:"border-0",outline:"border-gray-200",outlineBottom:"border-b-gray-400",error:"border-error border-b-error"}[u]," w-full border text-gray-900 h-12 px-4 outline-none placeholder:text-grey-400 ").concat(b," ").concat(h," ").concat(m," ").concat(x," ").concat(t&&"opacity-60 pointer-events-none"," ").concat(a?" border border-error border-b-error":""),disabled:void 0!==t&&t,maxLength:o,onChange:function(e){g(e)},defaultValue:O}),a&&Object(V.jsx)("div",{className:"text-sm text-error pt-1",children:0!=a.length&&a.message}),y&&Object(V.jsxs)($,{className:"text-xs text-gray-400 absolute bottom-2 right-2",children:[inputValue.length,"/",y]})]})},ce=function(e){var t=e.type,a=void 0===t?"":t,n=e.children,r=e.variant,c=e.fontWeight,i=void 0===c?"font-medium":c,o=e.padding,s=void 0===o?"py-3 px-6":o,l=e.btnClass,u=void 0===l?"":l,d=e.imgClassName,b=void 0===d?"":d,j=e.imgSrc,m=e.imgWidth,p=e.imgHeight,h=e.imgAlt,f=void 0===h?"":h,x=e.onClick,O=void 0===x?function(){}:x,v=e.disabled,g=e.form,y=e.buttonRef;return Object(V.jsxs)("button",{type:a,variant:{primaryBtn:"primaryBtn",outlineBtn:"outlineBtn",normalBtn:"normalBtn"}[r],className:"".concat({primaryBtn:"flex items-center justify-center bg-yellow-500 rounded text-white text-base disabled:bg-primary-100 disabled:text-primary-300",outlineBtn:"flex items-center justify-center bg-transparent border border-gray-200 rounded text-gray-500 text-base drop-shadow-btn disabled:bg-primary-100 disabled:text-primary-300",normalBtn:"flex items-center justify-center text-base"}[r]," ").concat(i," ").concat(s," ").concat(u," ").concat(j&&"pl-4"),onClick:O,disabled:v,form:g,ref:y,children:[j?Object(V.jsx)("span",{className:"mx-2 flex items-center flex-shrink-0 ".concat(b),children:Object(V.jsx)("img",{src:j,width:m,height:p,alt:f})}):"",n]})},ie=function(e){var t=e.loginDetails,a=e.onSubmit,r=Object(n.useState)(10!=t.mobileNumber.length),c=Object(s.a)(r,2),i=(c[0],c[1]),o=Object(n.useState)(""),l=Object(s.a)(o,2),u=l[0],d=l[1];return console.log("error",u),Object(V.jsx)("div",{className:"md:min-h-screen flex items-center px-6 py-14 bg-white lg:pl-20 lg:pr-32",children:Object(V.jsxs)("div",{className:"w-full max-w-md",children:[Object(V.jsx)(Z,{type:"h4",className:"mb-2 md:mb-8 font-medium",children:"Login"}),Object(V.jsx)($,{className:"mb-6",children:"Enter your details to get sign in to your account"}),Object(V.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.target[0].value;console.log(t.length,"mobileNumber"),10==t.length?a({mobileNumber:t}):d("Please enter valid mobile number")},children:[Object(V.jsx)(ne,{textColor:"text-gray-700",children:"Mobile Number"}),Object(V.jsx)("div",{className:"mt-2 flex",children:Object(V.jsx)(re,{id:"mobileNumber",name:"mobileNumber",type:"number",className:"ml-1 rounded-none mb-0",placeholder:"Mobile Number",maxLength:10,isRequired:!0,onChangeValue:function(e){10!=e.target.value.toString().length?(i(!0),d("")):i(!1)},variant:"outlineBottom"})}),u&&0!=u.length&&Object(V.jsx)("div",{className:"text-sm text-red-700 -mt-5 mb-1",children:0!=u.length&&u}),Object(V.jsx)($,{className:"mb-16 md:mb-10 text-sm text-gray-500",children:"An OTP will be sent via sms to verify your phone number"}),Object(V.jsx)(ce,{type:"submit",variant:"primaryBtn",fontWeight:"font-bold",btnClass:"w-full",children:"Get OTP"})]})]})})},oe=a(13),se=a(14),le=a(17),ue=a(18),de=["placeholder","separator","isLastChild","inputStyle","focus","isDisabled","hasErrored","errorStyle","focusStyle","disabledStyle","shouldAutoFocus","isInputNum","index","value","className","isInputSecure"],be=function(e){return"object"===typeof e},je=function(e){Object(le.a)(a,e);var t=Object(ue.a)(a);function a(e){var n;return Object(oe.a)(this,a),(n=t.call(this,e)).getClasses=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((function(e){return!be(e)&&!1!==e})).join(" ")},n.getType=function(){var e=n.props,t=e.isInputSecure,a=e.isInputNum;return t?"password":a?"tel":"text"},n.input=r.a.createRef(),n}return Object(se.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.focus,a=e.shouldAutoFocus,n=this.input.current;n&&t&&a&&n.focus()}},{key:"componentDidUpdate",value:function(e){var t=this.props.focus,a=this.input.current;e.focus!==t&&a&&t&&(a.focus(),a.select())}},{key:"render",value:function(){var e=this.props,t=e.placeholder,a=e.separator,n=e.isLastChild,r=e.inputStyle,c=e.focus,i=e.isDisabled,o=e.hasErrored,s=e.errorStyle,l=e.focusStyle,u=e.disabledStyle,d=(e.shouldAutoFocus,e.isInputNum),b=e.index,j=e.value,p=e.className,h=(e.isInputSecure,Object(X.a)(e,de));return Object(V.jsxs)("div",{className:p,style:{display:"flex",alignItems:"center"},children:[Object(V.jsx)("input",Object(m.a)({"aria-label":"".concat(0===b?"Please enter verification code. ":"").concat(d?"Digit":"Character"," ").concat(b+1),autoComplete:"off",style:Object.assign({width:"1em",textAlign:"center"},be(r)&&r,c&&be(l)&&l,i&&be(u)&&u,o&&be(s)&&s),placeholder:t,className:this.getClasses(r,c&&l,i&&u,o&&s),type:this.getType(),maxLength:"1",ref:this.input,disabled:i,value:j||""},h)),!n&&a]})}}]),a}(n.PureComponent),me=function(e){Object(le.a)(a,e);var t=Object(ue.a)(a);function a(){var e;Object(oe.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={activeInput:0},e.getOtpValue=function(){return e.props.value?e.props.value.toString().split(""):[]},e.getPlaceholderValue=function(){var t=e.props,a=t.placeholder,n=t.numInputs;if("string"===typeof a){if(a.length===n)return a;a.length>0&&console.error("Length of the placeholder should be equal to the number of inputs.")}},e.handleOtpChange=function(t){(0,e.props.onChange)(t.join(""))},e.isInputValueValid=function(t){return(e.props.isInputNum?!isNaN(parseInt(t,10)):"string"===typeof t)&&1===t.trim().length},e.focusInput=function(t){var a=e.props.numInputs,n=Math.max(Math.min(a-1,t),0);e.setState({activeInput:n})},e.focusNextInput=function(){var t=e.state.activeInput;e.focusInput(t+1)},e.focusPrevInput=function(){var t=e.state.activeInput;e.focusInput(t-1)},e.changeCodeAtFocus=function(t){var a=e.state.activeInput,n=e.getOtpValue();n[a]=t[0],e.handleOtpChange(n)},e.handleOnPaste=function(t){t.preventDefault();var a=e.state.activeInput,n=e.props,r=n.numInputs;if(!n.isDisabled){for(var c=e.getOtpValue(),i=a,o=t.clipboardData.getData("text/plain").slice(0,r-a).split(""),s=0;s<r;++s)s>=a&&o.length>0&&(c[s]=o.shift(),i++);e.setState({activeInput:i},(function(){e.focusInput(i),e.handleOtpChange(c)}))}},e.handleOnChange=function(t){var a=t.target.value;e.isInputValueValid(a)&&e.changeCodeAtFocus(a)},e.handleOnKeyDown=function(t){8===t.keyCode||"Backspace"===t.key?(t.preventDefault(),e.changeCodeAtFocus(""),e.focusPrevInput()):46===t.keyCode||"Delete"===t.key?(t.preventDefault(),e.changeCodeAtFocus("")):37===t.keyCode||"ArrowLeft"===t.key?(t.preventDefault(),e.focusPrevInput()):39===t.keyCode||"ArrowRight"===t.key?(t.preventDefault(),e.focusNextInput()):32!==t.keyCode&&" "!==t.key&&"Spacebar"!==t.key&&"Space"!==t.key||t.preventDefault()},e.handleOnInput=function(t){if(e.isInputValueValid(t.target.value))e.focusNextInput();else if(!e.props.isInputNum){var a=t.nativeEvent;null===a.data&&"deleteContentBackward"===a.inputType&&(t.preventDefault(),e.changeCodeAtFocus(""),e.focusPrevInput())}},e.renderInputs=function(){for(var t=e.state.activeInput,a=e.props,n=a.numInputs,r=a.inputStyle,c=a.focusStyle,i=a.separator,o=a.isDisabled,s=a.disabledStyle,l=a.hasErrored,u=a.errorStyle,d=a.shouldAutoFocus,b=a.isInputNum,j=a.isInputSecure,m=a.className,p=[],h=e.getOtpValue(),f=e.getPlaceholderValue(),x=e.props["data-cy"],O=e.props["data-testid"],v=function(a){p.push(Object(V.jsx)(je,{placeholder:f&&f[a],index:a,focus:t===a,value:h&&h[a],onChange:e.handleOnChange,onKeyDown:e.handleOnKeyDown,onInput:e.handleOnInput,onPaste:e.handleOnPaste,onFocus:function(t){e.setState({activeInput:a}),t.target.select()},onBlur:function(){return e.setState({activeInput:-1})},separator:i,inputStyle:r,focusStyle:c,isLastChild:a===n-1,isDisabled:o,disabledStyle:s,hasErrored:l,errorStyle:u,shouldAutoFocus:d,isInputNum:b,isInputSecure:j,className:m,"data-cy":x&&"".concat(x,"-").concat(a),"data-testid":O&&"".concat(O,"-").concat(a)},a))},g=0;g<n;g++)v(g);return p},e}return Object(se.a)(a,[{key:"render",value:function(){var e=this.props.containerStyle;return Object(V.jsx)("div",{style:Object.assign({display:"flex"},be(e)&&e),className:be(e)?"":e,children:this.renderInputs()})}}]),a}(n.Component);me.defaultProps={numInputs:4,onChange:function(e){return console.log(e)},isDisabled:!1,shouldAutoFocus:!1,value:"",isInputSecure:!1};var pe=me,he=function(e){var t=e.onChange,a=e.otpValue,n=e.length,r=e.errorMessage;return Object(V.jsxs)("div",{className:"otp",children:[Object(V.jsx)(pe,{isInputNum:!0,value:a,onChange:function(e){t(e)},numInputs:n,hasErrored:(null===r||void 0===r?void 0:r.length)>0,placeholder:!1,containerStyle:{fontSize:"16px",color:"black"},inputStyle:{width:42,height:48,border:"1px solid #E5E5EB",marginRight:16,borderRadius:"7px",fontWeight:400,fontSize:"18px",lineHeight:"28px"},focusStyle:{outline:"none",border:"1px solid #9C9CAF",color:"#14142B"},errorStyle:{border:"1px solid #E64C4C",color:"#E64C4C"},shouldAutoFocus:!0}),r&&Object(V.jsx)($,{className:"text-xs font-light text-error mt-1",children:r})]})},fe=a(187),xe=function(e){var t=e.handleLogin,a=e.loginDetails,r=e.editMobile,c=e.resendOtp,i=e.error,o=Object(n.useState)(""),l=Object(s.a)(o,2),u=l[0],d=l[1],b=Object(n.useState)(30),j=Object(s.a)(b,2),m=j[0],p=j[1],h=Object(n.useCallback)((function(){return p((function(e){return e-1}))}),[]);Object(n.useEffect)((function(){m>0&&setTimeout(h,1e3)}),[m,h]);return Object(V.jsx)("div",{className:"md:min-h-screen bg-white flex items-center px-6 py-14 lg:pl-20 lg:pr-30",children:Object(V.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(u)},children:[Object(V.jsx)(Z,{type:"h4",className:"mb-2 md:mb-8 font-medium",children:"Enter verification code"}),Object(V.jsx)("div",{className:"mb-8 md:mb-9",children:Object(V.jsxs)($,{children:["We have just sent verification code to"," ",Object(V.jsx)("span",{className:"font-bold",children:"".concat(a.mobileNumber)}),Object(V.jsx)("span",{className:"ml-1",children:Object(V.jsx)(fe.a,{onClick:r})})]})}),Object(V.jsx)(he,{onChange:d,otpValue:u,length:4,errorMessage:i}),m>0&&Object(V.jsxs)($,{className:"my-8 md:my-11 text-sm text-gray-600 font-light",children:["Resend OTP in"," ",Object(V.jsxs)("span",{className:"text-gray-900 font-bold",children:[m,"s"]})]}),0==m&&Object(V.jsx)("div",{onClick:function(){m||p(30),c()},children:Object(V.jsx)($,{className:"text-primary-900 my-8 md:my-11 cursor-pointer",children:"Send the code again"})}),Object(V.jsx)(ce,{variant:"primaryBtn",fontWeight:"font-bold",btnClass:"w-full",disabled:4!=u.length,type:"submit",children:"Submit"})]})})},Oe=function(e){Object(Q.a)(e);var t=Object(n.useState)(null),a=Object(s.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)({step:1,mobileNumber:""}),o=Object(s.a)(i,2),l=o[0],u=o[1],d=function(){var e=Object(p.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(t.mobileNumber);case 2:(a=e.sent).data.status?(u({step:2,mobileNumber:t.mobileNumber}),c([])):c(a.data.message);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(p.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(4!=t.length){e.next=6;break}return e.next=3,T(l.mobileNumber,t,l.countryCode);case 3:a=e.sent,console.log(a),a.data.status?(n={id:a.data.entity.id,token:a.data.entity.token},C.set("AUTH",JSON.stringify(n),{path:"/"}),window.location.reload(!1)):c(a.data.message);case 6:case"end":return e.stop()}var n}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(p.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(l.mobileNumber);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){c([]),u((function(e){return Object(m.a)(Object(m.a)({},e),{},{step:1})}))};return Object(V.jsxs)("div",{className:"flex flex-wrap md:flex-nowrap",children:[Object(V.jsx)("div",{className:"w-full md:w-55/100 shrink-0",children:Object(V.jsx)(ae,{})}),Object(V.jsx)("div",{className:"w-full md:w-45/100",children:function(){switch(l.step){case 1:return Object(V.jsx)(ie,{onSubmit:d,loginDetails:l,error:r,defaultValues:{mobileNumber:l.mobileNumber}});case 2:return Object(V.jsx)(xe,{handleLogin:b,loginDetails:l,editMobile:h,resendOtp:j,error:r})}}()})]})},ve=a(316),ge=a(317),ye=a(318),Ne=a(319),Ce=function(e){var t=e.tableData,a=e.invalidHeader,r=e.setHasErrors,c=e.setRecord,i=e.record,o=[{title:"ROW INDEX",dataIndex:"index",key:"index",width:"150px",render:function(e){return Object(V.jsx)("div",{className:"flex flex-col",children:Object(V.jsx)("label",{className:"font-semibold",children:e+2},e+2)},e+2)}},{title:"REASON",dataIndex:"reason",key:"reason",render:function(e,t){var a=e.map((function(e,t){return Object(V.jsx)("li",{children:e},t)}));return Object(V.jsx)("ul",{children:a},t.index+2)}}];return Object(n.useEffect)((function(){!function(){var e=0;c(e),t.map((function(t){t.reason.length&&(e+=1)})),c(e),e||a.length||r(!1)}()}),[i]),Object(V.jsxs)("div",{children:[Object(V.jsxs)("div",{className:"flex-col pb-5",children:[Object(V.jsx)("label",{className:"font text-md",children:"The following data is invalid. Please correct them and upload again."}),Object(V.jsx)("ul",{className:"pl-2 text-red-800",children:a.length?a.map((function(e,t){return Object(V.jsxs)("li",{children:["Invalid Header : ",e.invalidColumn]},t)})):""}),Object(V.jsx)("label",{className:"font text-md",children:"Correct the errors and upload again."})]}),Object(V.jsx)(g.a,{dataSource:t,columns:o,bordered:!0,pagination:{}})]})},Se=function(e){var t=e.cardClass,a=void 0===t?"":t,n=e.cardWidth,r=void 0===n?"":n,c=e.cardBg,i=void 0===c?"bg-white":c,o=e.cardBorder,s=void 0===o?"border":o,l=e.cardBorderColor,u=void 0===l?"border-gray-200":l,d=e.cardRadius,b=void 0===d?"rounded-2xl":d,j=e.cardPadding,m=void 0===j?"":j,p=e.cardShadow,h=void 0===p?"":p,f=e.children,x=e.cardHeight,O=void 0===x?"":x,v=e.onClick;return Object(V.jsx)("div",{className:"".concat(r," ").concat(O," ").concat(i," ").concat(s," ").concat(u," ").concat(b," ").concat(m," ").concat(h," ").concat(a," "),onClick:v,children:f})},we=a(313),Ie=a(314),ke=a(91),Ee=a(3),Te=function(e){var t=e.acceptedFile,a=e.onValidate,n=e.resetUploadedCsv,r=e.setCsvArray,c=e.onCancel,i=e.setCsvErrors,o=e.setHasErrors,s=e.dataKeysMap,l=(e.validateButtonRef,Object(ke.c)().readString),u=s,d=function(e){if(0===e.length||e.length>0&&0===Object.keys(e[0]).length)return alert("Error!! Empty Csv file upload!"),null;var t=[],a=[];return Object.keys(e[0]).forEach((function(e){u[e]||t.push({invalidColumn:e})})),t.length?console.log("invalidHeaders",t):(a=function(e,t){return t.map((function(t){return Object.keys(t).reduce((function(a,n){return Object(m.a)(Object(m.a)({},a),Object(Ee.a)({},e[n]||n,t[n]))}),{})}))}(u,e),r(a)),{newCsv:a,invalidHeaders:t}},b=function(){r(null),i([]),o(!1),function(e){if(null===t)return alert("Error !! Empty Csv file upload!"),n(),[];e()}((function(){console.log("acceptedFile",t),l(t,{worker:!0,header:!0,skipEmptyLines:!0,complete:function(e){var t=d(e.data);if(console.log("results.data",e.data),t){var n=Object(m.a)({},t),r=n.newCsv,i=n.invalidHeaders;a({newCsv:r,invalidHeaders:i})}else c()}})}))};return Object(V.jsx)(V.Fragment,{children:Object(V.jsxs)("div",{className:"flex justify-end items-center mt-5",children:[Object(V.jsx)(ce,{type:"button",variant:"outlineBtn",btnClass:"text-sm font-normal py-3 px-6",onClick:function(){return c()},children:"Cancel"}),Object(V.jsx)(ce,{type:"submit",variant:"primaryBtn",btnClass:"text-sm font-normal ml-2 py-3 px-8",onClick:function(){return b()},children:"Save"})]})})},Ae=function(e){var t=e.validateBulkCreation,a=e.onCancel,c=e.hasErrors,i=e.setHasErrors,o=(e.csvErrors,e.setCsvErrors),l=e.csvArray,u=e.setCsvArray,d=e.validateButtonRef,b=(e.invalidHeader,e.setInvalidHeader),j=e.record,h=e.setRecord,x=e.dataKeysMap,O=Object(ke.b)().CSVReader,v=r.a.useRef(),g=Object(n.useState)(null),y=Object(s.a)(g,2),N=y[0],C=y[1],S=function(){var e=Object(p.a)(f.a.mark((function e(a){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.newCsv,r=a.invalidHeaders,h(!1),b(r),n||w(),t(n,r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e;a(),null===(e=v.current)||void 0===e||e.click()};return Object(V.jsx)(V.Fragment,{children:Object(V.jsx)("div",{className:"",children:Object(V.jsx)(O,{onUploadAccepted:function(e){C(e),i(!1),u(null)},children:function(e){var t=e.getRootProps,n=e.acceptedFile,r=(e.ProgressBar,e.getRemoveFileProps),s=Object(V.jsx)("div",{className:"absolute group-hover:flex hidden w-53.5 h-25  top-0 left-0 items-center justify-center before:w-full before:h-full before:left-0 before:bg-black before:opacity-70",children:Object(V.jsx)("div",Object(m.a)(Object(m.a)({ref:v,className:"absolute cursor-pointer "},r()),{},{children:Object(V.jsx)(we.a,{})}))});return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)("div",{className:"relative w-53.5 h-25 mb-2 cursor-pointer",children:Object(V.jsxs)("div",Object(m.a)(Object(m.a)({},t()),{},{children:[Object(V.jsx)("input",{className:"shadow hidden appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"}),Object(V.jsxs)("div",{className:"p-2 border border-dashed bg-gray-100 border-gray-300 w-53.5 h-25 flex items-center justify-center",children:[!n&&Object(V.jsxs)("div",{className:"text-center",children:[Object(V.jsx)(Ie.a,{}),Object(V.jsxs)($,{children:["Drag the file or ",Object(V.jsx)("span",{className:"text-info ",children:"Browse"})]})]}),n&&Object(V.jsxs)("div",{className:"relative w-53.5 h-25 align-middle mb-6 group flex items-center justify-center",children:[n.name,s]},n.name)]})]}))}),Object(V.jsx)(Te,{csvFileData:N,acceptedFile:n,onValidate:S,getRemoveFileProps:r,resetUploadedCsv:w,setCsvArray:u,setInvalidHeader:b,onCancel:a,setCsvErrors:o,setHasErrors:i,dataKeysMap:x,validateButtonRef:d}),Object(V.jsx)("div",{className:"pb-5",children:l&&(c?Object(V.jsxs)("label",{className:"font text-md text-red-800 ",children:[j," records needs correction. "]}):Object(V.jsx)("label",{className:"font text-md ",children:" All records are valid. "}))})]})}})})})};function De(e){var t=e.sampleData,a=e.fileName,n=e.children,r=Object(ke.a)(),c=r.CSVDownloader,i=r.Type;return Object(V.jsx)(c,{variant:"Link",type:i.Button,filename:a,bom:!0,config:{delimiter:","},data:t,children:n})}var Re=function(e){var t=e.headingChildren,a=e.textChildren,n=e.getIcon,r=e.onIconClick,c=e.headingStyle,i=void 0===c?"":c;return Object(V.jsxs)("div",{className:"flex items-center ".concat(r?"cursor-pointer":""),onClick:r,children:[Object(V.jsx)("div",{className:"flex shrink-0 mr-2",children:n()}),Object(V.jsxs)("div",{children:[Object(V.jsx)(Z,{type:"h4",className:"leading-8 ".concat(i),children:t}),a&&Object(V.jsx)($,{className:"text-sm font-light text-gray-500",children:a})]})]})},Me=a(315),Be=a(304),Ve=a(303),Fe=a(181),Le=a(110),Ue=a(306),Pe=["index"],He=["title","editable","children","dataIndex","record","handleSave","customerData","milk"],qe=r.a.createContext(null),Ge=function(e){e.index;var t=Object(X.a)(e,Pe),a=Ve.a.useForm(),n=Object(s.a)(a,1)[0];return Object(V.jsx)(Ve.a,{form:n,component:!1,children:Object(V.jsx)(qe.Provider,{value:n,children:Object(V.jsx)("tr",Object(m.a)({},t))})})},We=function(e){var t=e.title,a=e.editable,r=e.children,c=e.dataIndex,i=e.record,o=e.handleSave,l=e.customerData,u=e.milk,d=Object(X.a)(e,He),b=Object(n.useState)(!1),j=Object(s.a)(b,2),p=j[0],h=(j[1],Object(n.useRef)(null));Object(n.useContext)(qe);Object(n.useEffect)((function(){p&&h.current.focus()}),[p]);var f=function(e,t){var a={};if("categoryName"===c){var n="special"==l.type?u[t].normal.gstRate:u[t].gstRate;a={categoryName:u[t].name,categoryId:t,rate:u[t].rate,gstRate:n},void 0!=i.quantity&&(a.total=Math.round(parseFloat(a.rate)*parseFloat(i.quantity)*10)/10,a.totalWithTax=Math.round(10*(a.total+a.total*a.gstRate/100))/10)}"quantity"==c&&void 0!=i.rate&&((a={quantity:t}).total=Math.round(parseFloat(i.rate)*parseFloat(t)*10)/10,a.totalWithTax=Math.round(10*(a.total+a.total*i.gstRate/100))/10),o(Object(m.a)(Object(m.a)({},i),a))},x=r;return a&&(x="Total Amount"!=i.categoryName?Object(V.jsx)(Ve.a.Item,{style:{margin:0},name:c,rules:[{required:!0,message:"".concat(t," is required.")}],children:"categoryName"!==c?Object(V.jsx)(Fe.a,{onChange:function(e){return f(0,e.target.value)}}):Object(V.jsx)(Le.a,{label:"Customer",editable:!0,showSearch:!0,optionFilterProp:"children",showArrow:!1,onChange:function(e){return f(0,e)},filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},filterSort:function(e,t){return e.children.toLowerCase().localeCompare(t.children.toLowerCase())},children:Object.values(u).map((function(e,t){return Object(V.jsx)(Option,{value:e.id,children:e.name},t)}))},"customerId")}):Object(V.jsx)("div",{className:"editable-cell-value-wrap font-bold",style:{paddingRight:24,fontSize:"16px"},children:r})),Object(V.jsx)("td",Object(m.a)(Object(m.a)({},d),{},{children:x}))},ze=function(e){var t=e.setTransactions,a=e.customerData,r=e.transactions,c=e.milk,i=e.notEditable,o=e.invoiceDetails,l=Object(n.useState)([]),u=Object(s.a)(l,2),d=u[0],b=u[1],p=Object(n.useState)(0),h=Object(s.a)(p,2),f=h[0],x=h[1];Object(n.useEffect)((function(){b(r)}),[r]);var O=[{title:"Item Name",dataIndex:"categoryName",width:"35%",editable:!i},{title:"Item Code",dataIndex:"itemCode",width:"15%",editable:!i},{title:"Rate",dataIndex:"rate",width:"10%"},{title:"Quantity",dataIndex:"quantity",width:"10%",editable:!i},{title:"Total",dataIndex:"total",width:"20%"}];i||O.push({title:"Action",dataIndex:"operation",width:"5%",render:function(e,t){return"Total Amount"!==t.categoryName&&d.length>=1?Object(V.jsx)(Ue.a,{title:"Sure to delete?",onConfirm:function(){return function(e){var t=d.filter((function(t){return t.key!==e}));b(t)}(t.key)},children:Object(V.jsx)("a",{children:"Delete"})}):null}});var v=function(e){var a=Object(j.a)(d),n=a.findIndex((function(t){return e.key===t.key})),r=a[n];a.splice(n,1,Object(m.a)(Object(m.a)({},r),e)),b(a),t(a)},y={body:{row:Ge,cell:We}},N=O.map((function(e){return Object(m.a)(Object(m.a)({},e),{},{onCell:function(t,n){var r={},i=["Total Amount","Taxable Value","IGST","CGST"];return i.includes(t.categoryName)&&"categoryName"==e.dataIndex&&(r={colSpan:4}),!i.includes(t.categoryName)||"quantity"!=e.dataIndex&&"rate"!=e.dataIndex&&"itemCode"!=e.dataIndex||(r={colSpan:0}),e.editable?Object(m.a)({record:t,editable:e.editable,dataIndex:e.dataIndex,title:e.title,handleSave:v,customerData:a,milk:c},r):r}})})),C=2,S={key:f+C++,categoryName:"Taxable Value",total:o.taxableAmount},w={key:f+C++,categoryName:"IGST",total:o.igst},I={key:f+C++,categoryName:"CGST",total:o.cgst},k={key:f+C++,categoryName:"SGST",total:o.sgst},E={key:f+C++,categoryName:"Cess",total:o.cess},T={key:f+C++,categoryName:"Round Off",total:o.roundOff},A={key:f+C++,categoryName:"Total Amount",total:o.totalValue};return Object(V.jsxs)("div",{children:[i?null:Object(V.jsx)(H.a,{onClick:function(){var e={key:f,categoryName:"Select Item",rate:"0",quantity:"0",total:0,gstRate:0,totalWithTax:0};b([].concat(Object(j.a)(d),[e])),x(f+1)},type:"primary",style:{marginBottom:16},children:"Add a item"}),Object(V.jsx)(g.a,{components:y,rowClassName:function(){return"editable-row"},bordered:!0,dataSource:[].concat(Object(j.a)(d),[S,w,I,k,E,T,A]),columns:N,pagination:!1})]})},Ye=x.a.Title,Ke=function(e){var t,a=e.visible,r=e.setVisible,c=e.invoiceId,i=Object(n.useState)({transactions:[]}),o=Object(s.a)(i,2),l=o[0],u=o[1],d=Object(n.useState)({}),b=Object(s.a)(d,2),j=(b[0],b[1],function(){var e=Object(p.a)(f.a.mark((function e(t){var a,n,r,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(t);case 2:r=e.sent,console.log(r),c=null===r||void 0===r||null===(a=r.data)||void 0===a?void 0:a.entity.transactions.map((function(e){e.rate,e.quantity;return{itemCode:e.item.code,categoryName:e.item.name,rate:e.rate,quantity:e.quantity,total:e.rate*e.quantity}})),u(Object(m.a)(Object(m.a)({},null===r||void 0===r||null===(n=r.data)||void 0===n?void 0:n.entity),{},{transactions:c}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return Object(n.useEffect)(Object(p.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("calling",c),!c){e.next=4;break}return e.next=4,j(c);case 4:case"end":return e.stop()}}),e)}))),[c]),Object(V.jsx)(V.Fragment,{children:Object(V.jsx)(Be.a,{title:"Invoice Details",visible:a,width:"50%",style:{top:75},keyboard:!1,onCancel:function(){return r(!1)},footer:[],children:Object(V.jsxs)("div",{className:"site-layout-background p-5 mt-1",children:[Object(V.jsxs)(O.a,{children:[Object(V.jsx)(v.a,{span:18,children:Object(V.jsxs)(Ye,{level:3,style:{color:"rgba(107, 114, 128, var(--tw-text-opacity))"},className:"border-b-2",children:["Customer Name : ",null===l||void 0===l||null===(t=l.customer)||void 0===t?void 0:t.name]})}),Object(V.jsx)(v.a,{span:6,children:Object(V.jsxs)(Ye,{level:3,style:{color:"rgba(107, 114, 128, var(--tw-text-opacity))"},className:"border-b-2",children:["Dated : ",B()(null===l||void 0===l?void 0:l.invoiceDate).format("DD-MM-YYYY")]})}),Object(V.jsx)(v.a,{span:12,children:Object(V.jsxs)(Ye,{level:3,style:{color:"rgba(107, 114, 128, var(--tw-text-opacity))"},className:"border-b-2",children:["Invoice Number : ",null===l||void 0===l?void 0:l.invoiceNumber]})})]}),Object(V.jsx)(O.a,{children:Object(V.jsx)(v.a,{span:24,children:Object(V.jsx)(ze,{customerData:l&&l.customerId&&(null===l||void 0===l?void 0:l.customer),transactions:l&&(null===l||void 0===l?void 0:l.transactions),milk:{},notEditable:!0,invoiceDetails:l})})})]})})})},Je=x.a.Title,Qe=function(e){var t=e.page,a=Object(n.useState)(null),r=Object(s.a)(a,2),c=r[0],i=r[1],o=Object(n.useState)(!1),l=Object(s.a)(o,2),u=(l[0],l[1],Object(n.useState)(null)),d=Object(s.a)(u,2),b=(d[0],d[1],Object(n.useState)(!1)),j=Object(s.a)(b,2),h=j[0],y=j[1],N=Object(n.useState)(null),C=Object(s.a)(N,2),S=C[0],w=C[1],I=Object(n.useState)(1),k=Object(s.a)(I,2),E=k[0],T=k[1],D=Object(n.useState)(10),M=Object(s.a)(D,2),F=M[0],L=M[1],U=Object(n.useState)(0),P=Object(s.a)(U,2),H=P[0],q=P[1],G=function(){var e=Object(p.a)(f.a.mark((function e(){var a,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(t,"",(E-1)*F,F);case 2:r=e.sent,console.log(r),i(null===r||void 0===r||null===(a=r.data)||void 0===a?void 0:a.entity.rows.map((function(e){var t,a;return Object(m.a)(Object(m.a)({},e),{},{customerName:null===(t=e.customer)||void 0===t?void 0:t.name,customerCode:null===(a=e.customer)||void 0===a?void 0:a.code,invoiceDate:e.invoiceDate?B()(e.invoiceDate).format("DD-MM-YYYY"):null,companyName:e.company.name,division:e.company.division})}))),q(null===r||void 0===r||null===(n=r.data)||void 0===n?void 0:n.entity.count);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){G()}),[E,F]);for(var W=function(e){return"invoiceNumber"==e.name?{render:function(e,t){return Object(V.jsx)("div",{children:Object(V.jsx)("a",{onClick:function(){return e=t.id,w(e),void y(!0);var e},className:"underline text-blue-900",children:e})})}}:{}},z=R.map((function(e){return Object(m.a)({title:Object(V.jsx)(x.a.Text,{ellipsis:!0,title:e.label,children:"purchase"!=t||"customerName"!=e.name&&"customerCode"!=e.name?e.label:e.label.replace("Customer","Vendor")}),dataIndex:e.name,key:e.name,width:"150px"},W(e))})),Y=[10,20,50,100],K=[];Y.length>0&&Y[0]<H;)K.push(Y[0]+""),Y.shift();return K.push(H+""),Object(V.jsx)("div",{children:Object(V.jsxs)("div",{className:"site-layout-background p-5 mt-1",children:[Object(V.jsxs)(Je,{level:3,style:{color:"rgba(107, 114, 128, var(--tw-text-opacity))"},className:"border-b-2",children:["sales"===t?"Sale":"Purchase"," Invoices"]}),Object(V.jsx)(O.a,{className:"w-full",children:Object(V.jsx)(v.a,{span:24,children:Object(V.jsx)(g.a,{dataSource:c,columns:z,bordered:!0,pagination:{position:["bottomRight","topRight"],pageSizeOptions:K,ocurrent:E,pageSize:F,onChange:function(e){T(e)},onShowSizeChange:function(e,t){L(t),T(1)},total:H,showSizeChanger:!0},rowKey:function(e){return e.id+((new Date).getTime()+1e4*Math.random())}})})}),Object(V.jsx)(Ke,{visible:h,setVisible:y,invoiceId:S})]})})},Xe=function(e){var t=e.page,a=Object(n.useState)(null),r=Object(s.a)(a,2),c=r[0],i=r[1],o=Object(n.useState)([]),l=Object(s.a)(o,2),u=l[0],d=l[1],j=Object(n.useState)(!1),m=Object(s.a)(j,2),h=m[0],x=m[1],O=Object(n.useState)([]),v=Object(s.a)(O,2),g=v[0],y=v[1],N=Object(n.useState)(null),C=Object(s.a)(N,2),S=C[0],w=C[1],E=Object(n.useState)({show:!1,message:"",success:!0}),T=Object(s.a)(E,2),A=(T[0],T[1],Object(n.useState)(!1)),D=Object(s.a)(A,2),R=(D[0],D[1]),M=Object(n.useRef)(null);Object(n.useEffect)((function(){x(!0)}),[u]);var B=function(){var e=Object(p.a)(f.a.mark((function e(a){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a,"csvData"),e.next=3,r=a,c=t,I.post("/sales",{sales:r,type:c},{headers:k()});case 3:n=e.sent,console.log(n,"res"),n.data.status&&(n.data.entity.csvErrorArray?d(n.data.entity.csvErrorArray):d([]));case 6:case"end":return e.stop()}var r,c}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(p.a)(f.a.mark((function e(t,a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a.length>0)){e.next=4;break}return e.abrupt("return",!1);case 4:B(t);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),L=_e(t);return Object(V.jsxs)("div",{className:"scr",children:[Object(V.jsx)(b.a,{style:{margin:"16px 0"},className:"text-4xl font-bold",children:Object(V.jsx)(b.a.Item,{children:t.toUpperCase()})}),Object(V.jsxs)(Se,{cardClass:"mt-6 mb-4 flex",cardPadding:"px-6",children:[Object(V.jsxs)("div",{className:"w-2/5 py-8",children:[Object(V.jsx)(Re,{getIcon:function(){return Object(V.jsx)(Me.a,{style:{fontSize:"450%"}})},headingChildren:"Bulk Upload",textChildren:"Upload the required file"}),Object(V.jsxs)($,{className:"pl-14 pt-4",children:["To download a sample ",Object(V.jsx)("b",{children:t})," file"," ",Object(V.jsx)(De,{page:t,sampleData:[L],fileName:"sample-file",children:Object(V.jsx)("div",{variant:"Link",className:"text-primary-500 font-semibold text-sm mt-2",children:"Click here"})})]})]}),Object(V.jsx)("div",{className:"w-3/5 pl-25 py-8 mt-12",children:Object(V.jsxs)("div",{children:[Object(V.jsx)(ne,{fontWeight:"font-normal",children:"Upload File"}),Object(V.jsx)(Ae,{validateBulkCreation:F,handleBulkCreation:B,hasErrors:h,setHasErrors:x,csvErrors:u,setCsvErrors:d,csvArray:c,setCsvArray:i,onCancel:function(){R(!1),i(null),d([]),x(!1),y([]),w(null)},validateButtonRef:M,invalidHeader:g,setInvalidHeader:y,record:S,setRecord:w,dataKeysMap:L})]})})]}),h&&Object(V.jsx)(Se,{cardClass:"mt-6 mb-4 flex",cardPadding:"px-6",children:Object(V.jsx)("div",{className:"w-full",children:Object(V.jsx)(Ce,{tableData:u,invalidHeader:g,setHasErrors:x,hasErrors:h,setRecord:w,record:S})})}),("sales"===t||"purchase"===t)&&Object(V.jsx)(Qe,{page:t})]})},_e=function(e){return"sales"==e?{COMPANY:"companyName",DIVISION:"division","CUSTOMER NAME":"customerName","CUSTOMER CODE":"customerCode","GST NUMBER":"gstNumber",DATE:"invoiceDate","INVOICE NUMBER":"invoiceNumber",QUANTITY:"quantity",UOM:"uom","ITEM CODE":"itemCode","ITEM NAME":"itemName","ITEM VALUE":"rate","LABOUR CHARGES":"labourCharges","CLAIM AMOUNT":"claimAmount","TAXABLE VALUE":"taxableAmount",IGST:"igst",CGST:"cgst",SGST:"sgst",CESS:"cess","ROUND OFF":"roundOff",TCS:"tcs","TOTAL VALUE":"totalValue"}:"purchase"==e?{COMPANY:"companyName",DIVISION:"division","VENDOR NAME":"customerName","VENDOR CODE":"customerCode","GST NUMBER":"gstNumber",DATE:"invoiceDate","INVOICE NUMBER":"invoiceNumber",QUANTITY:"quantity",UOM:"uom","ITEM CODE":"itemCode","ITEM NAME":"itemName","ITEM VALUE":"rate","LABOUR CHARGES":"labourCharges","CLAIM AMOUNT":"claimAmount","TAXABLE VALUE":"taxableAmount",IGST:"igst",CGST:"cgst",SGST:"sgst",CESS:"cess","ROUND OFF":"roundOff",TCS:"tcs","TOTAL VALUE":"totalValue"}:void 0},Ze=u.a.Header,$e=u.a.Content,et=(u.a.Footer,u.a.Sider),tt=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],r=t[1];if(!S())return Object(V.jsx)(V.Fragment,{children:Object(V.jsx)(Oe,{})});return Object(V.jsxs)(u.a,{className:"h-screen",children:[Object(V.jsx)(et,{collapsible:!0,collapsed:a,onCollapse:function(e){return r(e)},children:Object(V.jsx)(J,{})}),Object(V.jsxs)(u.a,{className:"site-layout",children:[Object(V.jsx)(Ze,{className:"site-layout-background",style:{padding:0},children:Object(V.jsxs)(d.a,{mode:"horizontal",style:{float:"right",width:"auto"},children:[Object(V.jsx)(d.a.Item,{icon:Object(V.jsx)(ve.a,{})},"notification"),Object(V.jsx)(d.a.Item,{icon:Object(V.jsx)(ge.a,{})},"mail"),Object(V.jsx)(d.a.SubMenu,{icon:Object(V.jsx)(ye.a,{}),children:Object(V.jsx)(d.a.Item,{icon:Object(V.jsx)(Ne.a,{}),onClick:function(){C.remove("AUTH",{path:"/"}),window.location.reload(!1)},children:"Sign Out"},"logout")},"profile")]})}),Object(V.jsx)($e,{style:{margin:"0 16px"},children:Object(V.jsx)("div",{style:{padding:10,height:"calc(100vh - 90px)",overflowY:"auto"},children:Object(V.jsxs)(l.c,{children:[Object(V.jsx)(l.a,{exact:!0,path:"/",children:Object(V.jsx)(P,{})}),Object(V.jsx)(l.a,{exact:!0,path:"/reports",children:Object(V.jsx)(P,{})}),Object(V.jsx)(l.a,{exact:!0,path:"/sales",children:Object(V.jsx)(Xe,{page:"sales"})}),Object(V.jsx)(l.a,{exact:!0,path:"/purchases",children:Object(V.jsx)(Xe,{page:"purchase"})}),Object(V.jsx)(l.a,{exact:!0,path:"/receipts",children:Object(V.jsx)(Xe,{page:"receipts"})}),Object(V.jsx)(l.a,{exact:!0,path:"/payments",children:Object(V.jsx)(Xe,{page:"payments"})})]})})})]})]})};i.a.render(Object(V.jsx)(r.a.StrictMode,{children:Object(V.jsx)(o.a,{children:Object(V.jsx)(tt,{})})}),document.getElementById("root"))}},[[297,1,2]]]);
//# sourceMappingURL=main.4ed6bf33.chunk.js.map